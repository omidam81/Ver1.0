@model Orchard.Users.ViewModels.UserSettingsViewModel
@{
    Style.Include("Settings.css");
}

<div class="dashboard-section-title">
    @T("Settings")
    @if (Model.ErrorMessage != null)
    {
        <div class="validation-summary-errors">
            @Model.ErrorMessage
        </div>
    }
    @if (Model.InfoMessage != null)
    {
        <div class="info-message">
            @Model.InfoMessage
        </div>
    }
    <span class="menu-closer" onclick="toggleMobileMenu()"><i class="fa fa-angle-up"></i></span>
    <span class="menu-opener" onclick="toggleMobileMenu()"><i class="fa fa-angle-down"></i></span>
</div>
<section class="general_settings">
    <div class="dashboard_section__header">
        <h1 class="dashboard_section__heading">Change Your Info</h1>
    </div>
    <div class="dashboard_section__content--padded">

        @using (Html.BeginForm("ChangeUserInfo", "Dashboard", FormMethod.Post, new { model = Model }))
        {
            @Html.AntiForgeryToken()
            @Html.HiddenFor(m => m.Id)
            <div class="account__user_info">
                <label>
                    <div class="label__title">Public name</div>
                    @Html.TextBoxFor(m => m.PublicName, new { @class = "form__textfield", @maxlength = "50", @size = "30" })
                </label>
                <label>
                    <div class="label__title">Phone number</div>
                    @Html.TextBoxFor(m => m.PhoneNumber, new { @class = "form__textfield", @maxlength = "50", @size = "30" })
                </label>
            </div>
            <div class="address__info">

                <div class="label__title label__mailing_address">Change your default address</div>
                <div class="address__group">
                    <div class="address__group_row">
                        <label class="address__field address__field_street">
                            @Html.TextBoxFor(m => m.Street, new { @class = "form__textfield" })
                            <div class="label__subtitle">Street</div>
                        </label>
                        <label class="address__field address__field_apt">
                            @Html.TextBoxFor(m => m.Suit, new { @class = "form__textfield" })
                            <div class="label__subtitle">Apt / Suite</div>
                        </label>
                    </div>
                    <div class="address__group_row">
                        <label class="address__field address__field_city">
                            @Html.TextBoxFor(m => m.City, new { @class = "form__textfield" })
                            <div class="label__subtitle">City</div>
                        </label>
                        <label class="address__field address__field_state" id="states">
                            <select name="user[state]" class="state-select state-us form__select_menu" id="state-us">
                                <option value=""></option>
                                <option value="JH">JH</option>
                                <option value="KH">KH</option>
                                <option value="KN">KN</option>
                                <option value="MK">MK</option>
                                <option value="NS">NS</option>
                                <option value="PH">PH</option>
                                <option value="PK">PK</option>
                                <option value="PS">PS</option>
                                <option value="PN">PN</option>
                                <option value="SL">SL</option>
                                <option value="TR">TR</option>
                                <option value="PTJ">PTJ</option>
                                <option value="KL">KL</option>
                                <option value="SBH">SBH</option>
                                <option value="SWK">SWK</option>
                                <option value="LB">LB</option>
                            </select>
                            <div class="label__subtitle label__subtitle_state">State</div>
                        </label>
                        <label class="address__field address__field_zip">
                            @Html.TextBoxFor(m => m.Zip, new { @class = "form__textfield" })
                            <div class="label__subtitle">Zip</div>
                        </label>
                    </div>
                </div>
            </div>
            <div class="account__user_info--submit">
                <input name="commit" class="t-button" type="submit" value="Update Info">
            </div>


        }
    </div>
</section>
<section class="account__email_settings">
    <div class="dashboard_section__header">
        <h1 class="dashboard_section__heading">Change Your Email</h1>
    </div>
    <div class="dashboard_section__content--padded">
        @using (Html.BeginForm("ChangeEmail", "Dashboard", FormMethod.Post, new { model = Model }))
        {
            @Html.AntiForgeryToken()
            @Html.HiddenFor(m => m.Id)
            <div class="account__email_info">
                <label>
                    <div class="label__title">New email address</div>
                    @Html.TextBoxFor(m => m.NewEmailAddress, new { @class = "form__textfield", @maxlength = "50", @size = "30" })
                </label>
                <label>
                    <div class="label__title">Confirm new email address</div>
                    @Html.TextBoxFor(m => m.ConfirmNewEmailAddress, new { @class = "form__textfield", @maxlength = "50", @size = "30" })
                </label>
                <input name="commit" class="t-button" type="submit" value="Update Email">
            </div>
        }
    </div>
</section>
<section class="account__password_settings">
    <div class="dashboard_section__header">
        <h1 class="dashboard_section__heading">Change Your Password</h1>

    </div>
    <div class="dashboard_section__content--padded">
        @using (Html.BeginForm("ChangePassword", "Dashboard", FormMethod.Post, new { model = Model }))
        {
            @Html.AntiForgeryToken()
            @Html.HiddenFor(m => m.Id)
            <div style="display: none;">
                <input name="utf8" type="hidden" value="✓"><input name="_method" type="hidden" value="patch">
                <input name="authenticity_token" type="hidden" value="kIbplJRzGkr7vPSQaRHJ1RJ5cFugU66ujOR/IqEh+tw=">
            </div>
            <div class="account__password_info">
                <label>
                    <div class="label__title">Current password</div>
                    @Html.ValidationMessageFor(m => m.CurrentPassword)
                    @Html.TextBoxFor(m => m.CurrentPassword, new { @class = "form__textfield", @maxlength = "50", @size = "30", @type = "password" })

                </label>
                <label>
                    <div class="label__title">New password</div>
                    @Html.ValidationMessageFor(m => m.NewPassword)
                    @Html.TextBoxFor(m => m.NewPassword, new { @class = "form__textfield", @maxlength = "50", @size = "30", @type = "password", @placeholder = "Must be longer than 7 characters" })

                </label>
                <label>
                    <div class="label__title">Confirm new password</div>
                    @Html.ValidationMessageFor(m => m.ConfirmPassword)
                    @Html.TextBoxFor(m => m.ConfirmPassword, new { @class = "form__textfield", @maxlength = "50", @size = "30", @type = "password" })

                </label>
                <input name="commit" class="t-button" type="submit" value="Update Password">
            </div>
        }
    </div>
</section>