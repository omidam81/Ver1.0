@{
    @model Teeyoot.FeaturedCampaigns.ViewModels.ExportPrintsViewModel
    Style.Include("jquery.dataTables.css");
    Script.Require("jQuery");
    Script.Include("jquery.dataTables.min.js");
}

<div>

    @using (Html.BeginForm())
    {
        @Html.AntiForgeryToken()
    }

    <table class="items" id="campaign-table">
        <thead>
            <tr> 
                <th>@T("Campaign Id")</th>             
                <th>@T("Campaign name")</th>
                <th>@T("Create date")</th> 
                <th>@T("Active")</th>
                <th>@T("Sold last 24 hours")</th>
                <th>@T("Sold / Minimum / Goal")</th>
                <th>@T("Approved")</th>
                <th>@T("Actions")</th>
            </tr>
        </thead>
        <tbody>
            @if (Model.Campaigns.Length > 0)
            {
                foreach (var c in Model.Campaigns)
                {
                    var isActive = c.IsActive ? T("Yes").ToString() : T("No").ToString();
                    var value = c.Last24HoursSold > 0 ? c.Last24HoursSold.ToString() : "-";

                    <tr data-record-text="@c.Id" class="contentItems">  
                        <td>@c.Id</td>                                           
                        <td><a target="_blank" href="/@c.Alias">@c.Title</a></td>
                        <td>@c.CreatedDate</td>
                        <td>@T(isActive)</td>
                        <td>@value</td>
                        <td>@c.Sold / @c.Minimum / @c.Goal</td>
                        <td>@c.IsApproved</td>
                        <td>
                            <a href="@Url.Action("ExportPrints", new { id = c.Id })" title="@T("Export prints")">@T("Export prints")</a>
                        </td>
                    </tr>
                }
            }
        </tbody>
    </table>
</div>

@using (Script.Foot())
{
    <script>
        var applyAction = function () {
            return false;
        }
    </script>

    <script>
    var campaignTable = $('#campaign-table').dataTable();
    </script>
    
    <script>
    $(document).ready(function () {
        var textnode = document.createTextNode(" (@Model.NotApprovedTotal)");
        var node = document.createElement("text");

        node.appendChild(textnode);
        document.getElementsByClassName("local-section-status")[0].appendChild(node);

        var textheader = document.createTextNode("Export");
        var nodeheader = document.createElement("h1");
        nodeheader.id = 'page-title';
        nodeheader.appendChild(textheader);
        document.getElementsByClassName("zone-header")[0].appendChild(nodeheader);       
    });
    </script>
}
