@{
    @model Teeyoot.FeaturedCampaigns.ViewModels.ExportPrintsViewModel
    Style.Include("jquery.dataTables.css");
    Script.Require("jQuery");
    Script.Include("jquery.dataTables.min.js");
}

<div>

    @*<div style="margin-bottom:15px;">
        <fieldset class="bulk-actions">
            @using (Html.BeginForm("Index", "AdminExportPrints", FormMethod.Get))
            {
                <span>
                    @Html.LabelFor(m => m.SearchString, T("Filter")):
                    @Html.TextBoxFor(m => m.SearchString)
                </span>

                <button type="submit">@T("Apply")</button>
                <a href="@Url.Action("Index")">@T("By Default")</a> 
            }

            
        </fieldset> 
    </div>*@

    @using (Html.BeginForm())
    {
        @Html.AntiForgeryToken()
    }

    <table class="items" id="campaign-table">
        <thead>
            <tr>
                @*<th class="check-box">
                        <input type="checkbox" class="check-all">
                    </th>*@
                <th>@T("Campaign date")</th>
                <th>@T("Campaign name")</th>
                <th>@T("Is Approved")</th>
                <th>@T("Active")</th>
                <th>@T("Sold last 24 hours")</th>
                <th>@T("Sold / Minimum / Goal")</th>
                <th>@T("Payment Status")</th>
                <th>@T("Actions")</th>
            </tr>
        </thead>
        <tbody>
            @if (Model.Campaigns.Length > 0)
            {
                foreach (var c in Model.Campaigns)
                {
                    var isActive = c.IsActive ? "Yes" : "No";
                    var value = c.Last24HoursSold > 0 ? c.Last24HoursSold.ToString() : "-";

                    <tr data-record-text="@c.Id" class="contentItems">
                        @*<td class="check-box">
                                @if (c.Status.Name != Teeyoot.Module.Common.Enums.CampaignStatus.Printing.ToString())
                                {
                                    <input type="checkbox">
                                }
                            </td>*@
                        <td>@c.CreatedDate</td>
                        <td><a target="_blank" href="/@c.Alias">@c.Title</a></td>
                        <td>@c.IsApproved</td>
                        <td>@T(isActive)</td>
                        <td>@value</td>
                        <td>@c.Sold / @c.Minimum / @c.Goal</td>
                        <td>@c.Status.Name</td>
                        <td>

                            <a href="@Url.Action("ExportPrints", new { id = c.Id })" title="@T("Export prints")">@T("Export prints")</a>

                            @*@if (c.Status.Name != Teeyoot.Module.Common.Enums.CampaignStatus.Printing.ToString())
                                {
                                    @T(" | ")
                                    <a href="@Url.Action("StartPrinting", new { pagerParameters = Model.Pager, searchString = Model.SearchString, id = c.Id })" title="@T("Start printing")">@T("Start printing")</a>
                                }*@
                        </td>
                    </tr>
                }
            }
        </tbody>
    </table>
</div>
@*@Display(Model.Pager)*@

@using (Script.Foot())
{
    <script>

        var applyAction = function () {
            return false;
        }

    </script>

    <script>
    var campaignTable = $('#campaign-table').dataTable();
    </script>
}
