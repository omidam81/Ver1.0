@model Orchard.Users.ViewModels.UserEditViewModel

@Html.HiddenFor(m => m.UserName, new {id = "username"})
<fieldset>
    @Html.LabelFor(m => m.Email, T("Email"))
    @Html.TextBoxFor(m => m.Email, new {id = "email", @class = "text medium"})
    @Html.ValidationMessageFor(m => m.Email, "*")
</fieldset>

@using (Script.Foot())
{
    <script>
        $(document).ready(function() {
            $('#content form').submit(function() {
                var email = $('#email').val();
                $('#username').val(email);
            });
        });
    </script>
}